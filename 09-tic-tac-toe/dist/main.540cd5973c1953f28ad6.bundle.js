(()=>{var t={854:function(t,e,n){t.exports=function(){"use strict";var t=function(t){var e=t.id,n=t.viewBox,o=t.content;this.id=e,this.viewBox=n,this.content=o};t.prototype.stringify=function(){return this.content},t.prototype.toString=function(){return this.stringify()},t.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))};function e(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var o=e((function(t,e){t.exports=function(){function t(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(t){return Array.isArray(t)?[]:{}}function n(n,o){return o&&!0===o.clone&&t(n)?i(e(n),n,o):n}function o(e,o,r){var s=e.slice();return o.forEach((function(o,a){void 0===s[a]?s[a]=n(o,r):t(o)?s[a]=i(e[a],o,r):-1===e.indexOf(o)&&s.push(n(o,r))})),s}function r(e,o,r){var s={};return t(e)&&Object.keys(e).forEach((function(t){s[t]=n(e[t],r)})),Object.keys(o).forEach((function(a){t(o[a])&&e[a]?s[a]=i(e[a],o[a],r):s[a]=n(o[a],r)})),s}function i(t,e,i){var s=Array.isArray(e),a=(i||{arrayMerge:o}).arrayMerge||o;return s?Array.isArray(t)?a(t,e,i):n(e,i):r(t,e,i)}return i.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return i(t,n,e)}))},i}()})),r=e((function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default})),i=r.svg,s=r.xlink,a={};a[i.name]=i.uri,a[s.name]=s.uri;var u=function(t,e){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map((function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(o(a,e||{}))+">"+t+"</svg>"},c=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n}(u(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(t);return c}()},348:function(t,e,n){t.exports=function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var e=t((function(t,e){t.exports=function(){function t(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function e(t){return Array.isArray(t)?[]:{}}function n(n,o){return o&&!0===o.clone&&t(n)?i(e(n),n,o):n}function o(e,o,r){var s=e.slice();return o.forEach((function(o,a){void 0===s[a]?s[a]=n(o,r):t(o)?s[a]=i(e[a],o,r):-1===e.indexOf(o)&&s.push(n(o,r))})),s}function r(e,o,r){var s={};return t(e)&&Object.keys(e).forEach((function(t){s[t]=n(e[t],r)})),Object.keys(o).forEach((function(a){t(o[a])&&e[a]?s[a]=i(e[a],o[a],r):s[a]=n(o[a],r)})),s}function i(t,e,i){var s=Array.isArray(e),a=(i||{arrayMerge:o}).arrayMerge||o;return s?Array.isArray(t)?a(t,e,i):n(e,i):r(t,e,i)}return i.all=function(t,e){if(!Array.isArray(t)||t.length<2)throw new Error("first argument should be an array with at least two elements");return t.reduce((function(t,n){return i(t,n,e)}))},i}()}));var o=t((function(t,e){e.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},t.exports=e.default})),r=o.svg,i=o.xlink,s={};s[r.name]=r.uri,s[i.name]=i.uri;var a,u=function(t,n){return void 0===t&&(t=""),"<svg "+function(t){return Object.keys(t).map((function(e){return e+'="'+t[e].toString().replace(/"/g,"&quot;")+'"'})).join(" ")}(e(s,n||{}))+">"+t+"</svg>"},c=o.svg,l=o.xlink,d={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; "),"aria-hidden":"true"},a[c.name]=c.uri,a[l.name]=l.uri,a)},p=function(t){this.config=e(d,t||{}),this.symbols=[]};p.prototype.add=function(t){var e=this.symbols,n=this.find(t.id);return n?(e[e.indexOf(n)]=t,!1):(e.push(t),!0)},p.prototype.remove=function(t){var e=this.symbols,n=this.find(t);return!!n&&(e.splice(e.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(t){return this.symbols.filter((function(e){return e.id===t}))[0]||null},p.prototype.has=function(t){return null!==this.find(t)},p.prototype.stringify=function(){var t=this.config.attrs,e=this.symbols.map((function(t){return t.stringify()})).join("");return u(e,t)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach((function(t){return t.destroy()}))};var h=function(t){var e=t.id,n=t.viewBox,o=t.content;this.id=e,this.viewBox=n,this.content=o};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var t=this;["id","viewBox","content"].forEach((function(e){return delete t[e]}))};var f=function(t){var e=!!document.importNode,n=(new DOMParser).parseFromString(t,"image/svg+xml").documentElement;return e?document.importNode(n,!0):n},m=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},e.createFromExistingNode=function(t){return new e({id:t.getAttribute("id"),viewBox:t.getAttribute("viewBox"),content:t.outerHTML})},e.prototype.destroy=function(){this.isMounted&&this.unmount(),t.prototype.destroy.call(this)},e.prototype.mount=function(t){if(this.isMounted)return this.node;var e="string"==typeof t?document.querySelector(t):t,n=this.render();return this.node=n,e.appendChild(n),n},e.prototype.render=function(){var t=this.stringify();return f(u(t)).childNodes[0]},e.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(e.prototype,n),e}(h),y={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},v=function(t){return Array.prototype.slice.call(t,0)},g=function(){return/firefox/i.test(navigator.userAgent)},w=function(){return/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)},x=function(){return/edge/i.test(navigator.userAgent)},b=function(t){return(t||window.location.href).split("#")[0]},S=function(t){angular.module("ng").run(["$rootScope",function(e){e.$on("$locationChangeSuccess",(function(e,n,o){var r,i,s;r=t,i={oldUrl:o,newUrl:n},(s=document.createEvent("CustomEvent")).initCustomEvent(r,!1,!1,i),window.dispatchEvent(s)}))}])},M=function(t,e){return void 0===e&&(e="linearGradient, radialGradient, pattern, mask, clipPath"),v(t.querySelectorAll("symbol")).forEach((function(t){v(t.querySelectorAll(e)).forEach((function(e){t.parentNode.insertBefore(e,t)}))})),t};var k=o.xlink.uri,E="xlink:href",C=/[{}|\\\^\[\]`"<>]/g;function A(t){return t.replace(C,(function(t){return"%"+t[0].charCodeAt(0).toString(16).toUpperCase()}))}var O,j=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],L=j.map((function(t){return"["+t+"]"})).join(","),B=function(t,e,n,o){var r,i,s=A(n),a=A(o);(r=t.querySelectorAll(L),i=function(t){var e=t.localName,n=t.value;return-1!==j.indexOf(e)&&-1!==n.indexOf("url("+s)},v(r).reduce((function(t,e){if(!e.attributes)return t;var n=v(e.attributes),o=i?n.filter(i):n;return t.concat(o)}),[])).forEach((function(t){return t.value=t.value.replace(new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),a)})),function(t,e,n){v(t).forEach((function(t){var o=t.getAttribute(E);if(o&&0===o.indexOf(e)){var r=o.replace(e,n);t.setAttributeNS(k,E,r)}}))}(e,s,a)},_="mount",q="symbol_mount",P=function(t){function n(n){var o=this;void 0===n&&(n={}),t.call(this,e(y,n));var r,i=(r=r||Object.create(null),{on:function(t,e){(r[t]||(r[t]=[])).push(e)},off:function(t,e){r[t]&&r[t].splice(r[t].indexOf(e)>>>0,1)},emit:function(t,e){(r[t]||[]).map((function(t){t(e)})),(r["*"]||[]).map((function(n){n(t,e)}))}});this._emitter=i,this.node=null;var s=this.config;if(s.autoConfigure&&this._autoConfigure(n),s.syncUrlsWithBaseTag){var a=document.getElementsByTagName("base")[0].getAttribute("href");i.on(_,(function(){return o.updateUrls("#",a)}))}var u=this._handleLocationChange.bind(this);this._handleLocationChange=u,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,u),s.locationChangeAngularEmitter&&S(s.locationChangeEvent),i.on(_,(function(t){s.moveGradientsOutsideSymbol&&M(t)})),i.on(q,(function(t){var e;s.moveGradientsOutsideSymbol&&M(t.parentNode),(w()||x())&&(e=[],v(t.querySelectorAll("style")).forEach((function(t){t.textContent+="",e.push(t)})))}))}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var o={isMounted:{}};return o.isMounted.get=function(){return!!this.node},n.prototype._autoConfigure=function(t){var e=this.config;void 0===t.syncUrlsWithBaseTag&&(e.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===t.locationChangeAngularEmitter&&(e.locationChangeAngularEmitter=void 0!==window.angular),void 0===t.moveGradientsOutsideSymbol&&(e.moveGradientsOutsideSymbol=g())},n.prototype._handleLocationChange=function(t){var e=t.detail,n=e.oldUrl,o=e.newUrl;this.updateUrls(n,o)},n.prototype.add=function(e){var n=t.prototype.add.call(this,e);return this.isMounted&&n&&(e.mount(this.node),this._emitter.emit(q,e.node)),n},n.prototype.attach=function(t){var e=this,n=this;if(n.isMounted)return n.node;var o="string"==typeof t?document.querySelector(t):t;return n.node=o,this.symbols.forEach((function(t){t.mount(n.node),e._emitter.emit(q,t.node)})),v(o.querySelectorAll("symbol")).forEach((function(t){var e=m.createFromExistingNode(t);e.node=t,n.add(e)})),this._emitter.emit(_,o),o},n.prototype.destroy=function(){var t=this,e=t.config,n=t.symbols,o=t._emitter;n.forEach((function(t){return t.destroy()})),o.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},n.prototype.mount=function(t,e){void 0===t&&(t=this.config.mountTo),void 0===e&&(e=!1);var n=this;if(n.isMounted)return n.node;var o="string"==typeof t?document.querySelector(t):t,r=n.render();return this.node=r,e&&o.childNodes[0]?o.insertBefore(r,o.childNodes[0]):o.appendChild(r),this._emitter.emit(_,r),r},n.prototype.render=function(){return f(this.stringify())},n.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},n.prototype.updateUrls=function(t,e){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return B(this.node,n,b(t)+"#",b(e)+"#"),!0},Object.defineProperties(n.prototype,o),n}(p),G=t((function(t){var e;e=function(){var t,e=[],n=document,o=n.documentElement.doScroll,r="DOMContentLoaded",i=(o?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return i||n.addEventListener(r,t=function(){for(n.removeEventListener(r,t),i=1;t=e.shift();)t()}),function(t){i?setTimeout(t,0):e.push(t)}},t.exports=e()})),N="__SVG_SPRITE_NODE__";window.__SVG_SPRITE__?O=window.__SVG_SPRITE__:(O=new P({attrs:{id:N,"aria-hidden":"true"}}),window.__SVG_SPRITE__=O);var T=function(){var t=document.getElementById(N);t?O.attach(t):O.mount(document.body,!0)};return document.body?T():G(T),O}()}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(854),e=n.n(t),o=n(348),r=n.n(o),i=new(e())({id:"icon-restart",use:"icon-restart-usage",viewBox:"0 0 20 20",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="icon-restart"><path d="M19.524 0h-1.88a.476.476 0 0 0-.476.499l.159 3.284A9.81 9.81 0 0 0 9.835.317C4.415.317-.004 4.743 0 10.167.004 15.597 4.406 20 9.835 20a9.796 9.796 0 0 0 6.59-2.536.476.476 0 0 0 .019-.692l-1.348-1.349a.476.476 0 0 0-.65-.022 6.976 6.976 0 0 1-9.85-.63 6.987 6.987 0 0 1 .63-9.857 6.976 6.976 0 0 1 10.403 1.348l-4.027-.193a.476.476 0 0 0-.498.476v1.881c0 .263.213.476.476.476h7.944A.476.476 0 0 0 20 8.426V.476A.476.476 0 0 0 19.524 0Z" fill="#1F3641" /></symbol>'});r().add(i);var s=new(e())({id:"icon-x",use:"icon-x-usage",viewBox:"0 0 64 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="icon-x"><path d="M15.002 1.147 32 18.145 48.998 1.147a3 3 0 0 1 4.243 0l9.612 9.612a3 3 0 0 1 0 4.243L45.855 32l16.998 16.998a3 3 0 0 1 0 4.243l-9.612 9.612a3 3 0 0 1-4.243 0L32 45.855 15.002 62.853a3 3 0 0 1-4.243 0L1.147 53.24a3 3 0 0 1 0-4.243L18.145 32 1.147 15.002a3 3 0 0 1 0-4.243l9.612-9.612a3 3 0 0 1 4.243 0Z" fill="currentColor" fill-rule="evenodd" /></symbol>'});r().add(s);var a=new(e())({id:"icon-o",use:"icon-o-usage",viewBox:"0 0 64 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" id="icon-o"><path d="M32 0c17.673 0 32 14.327 32 32 0 17.673-14.327 32-32 32C14.327 64 0 49.673 0 32 0 14.327 14.327 0 32 0Zm0 18.963c-7.2 0-13.037 5.837-13.037 13.037 0 7.2 5.837 13.037 13.037 13.037 7.2 0 13.037-5.837 13.037-13.037 0-7.2-5.837-13.037-13.037-13.037Z" fill="currentColor" /></symbol>'});function u(){this.events={}}function c(t){var e=this;this.actions={},this.mutations={},this.state={},this.status="resting",this.events=new u,t.hasOwnProperty("actions")&&(this.actions=t.actions),t.hasOwnProperty("mutations")&&(this.mutations=t.mutations),this.state=new Proxy(t.state||{},{set:function(t,n,o){return t[n]=o,console.log("stateChange: ".concat(n,": ").concat(o)),e.events.publish("stateChange",e.state),"mutation"!==e.status&&console.warn("You should use a mutation to set ".concat(n)),e.status="resting",!0}})}function l(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.store instanceof c&&e.store.events.subscribe("stateChange",(function(){return t.render()})),e.hasOwnProperty("element")&&(this.element=e.element)}r().add(a),u.prototype.subscribe=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},u.prototype.publish=function(t,e){this.events[t]&&this.events[t].forEach((function(t){t(e)}))},c.prototype.dispatch=function(t,e){var n=this;return"function"!=typeof n.actions[t]?(console.error('Action "'.concat(t," doesn't exist.")),!1):(console.groupCollapsed("ACTION: ".concat(t)),n.status="action",n.actions[t](n,e),console.groupEnd(),!0)},c.prototype.commit=function(t,e){var n=this;if("function"!=typeof n.mutations[t])return console.log('Mutation "'.concat(t,"\" doesn't exist")),!1;n.status="mutation";var o=n.mutations[t](n.state,e);return n.state=Object.assign(n.state,o),!0},l.prototype.render=function(){};const d=new c({actions:{nextTurn:function(t,e){t.commit("nextTurn",e)},setP1Mark:function(t,e){t.commit("setP1Mark",e)},setOpponent:function(t,e){t.commit("setOpponent",e)},roundWinner:function(t,e){t.commit("setRoundWinner",e)},roundDraw:function(t){t.commit("setRoundDraw")},nextRound:function(t,e){t.commit("setNextRound",e)},resetModal:function(t,e){t.commit("resetModal",e)},startNewGame:function(t,e){t.commit("startNewGame",e)},resetGame:function(t,e){t.commit("setResetGame",e)}},mutations:{nextTurn:function(t,e){return t.turn="x"===e?"o":"x",t},setP1Mark:function(t,e){return t.p1Mark=e,t},setOpponent:function(t,e){return t.opponent=e,t},resetModal:function(t,e){return t.resetModal=e,t.showModal=e,t},startNewGame:function(t,e){return t.p1Mark=e.p1Mark,t.opponent=e.opponent,t.opponentMark=e.opponentMark,t},setRoundWinner:function(t,e){return t.roundWinner=e.winner,t.roundWinnerMark=e.winnerMark,t.showModal=!0,"x"===e.winnerMark?t.xScore++:"o"===e.winnerMark&&t.oScore++,t},setNextRound:function(t,e){return t.nextRound=e,!0===e&&(t.showModal=!1,t.turn="x",t.roundWinner="none"),t},setRoundDraw:function(t){return t.showModal=!0,t.roundWinner="tie",t.drawScore++,t},setResetGame:function(t,e){return!0===e?(t.p1Mark="x",t.opponent="p2",t.opponentMark="o",t.turn="x",t.drawScore=0,t.xScore=0,t.oScore=0,t.showModal=!1,t.roundWinner="none",t.resetGame=!0,t.nextRound=!1,t.resetModal=!1,t.newGame=!0):t.resetGame=!1,t}},state:{p1Mark:"x",opponent:"p2",opponentMark:"o",turn:"x",drawScore:0,xScore:0,oScore:0,showModal:!1,roundWinner:"none",roundWinnerMark:"none",resetGame:!1,nextRound:!1,resetModal:!1,newGame:!0}});function p(){l.call(this,{store:d,element:document.querySelector("#newGameScreen")}),this.markPicker=document.querySelector("#markPicker"),this.newGameVsPlayerBtn=document.querySelector("#newGameVsPlayerBtn"),this.newGameVsCpuBtn=document.querySelector("#newGameVsCpuBtn"),this.resetModalBtn=document.querySelector("#resetModalBtn"),this.p1Mark=d.state.p1Mark,this.events()}function h(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function m(){this.winningPatterns=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],l.call(this,{store:d,element:document.querySelector("#board")}),this.cells=this.element.querySelectorAll(".board-cell"),this.bindEvents()}function y(){l.call(this,{store:d,element:document.querySelector("#turnIndicator")})}function v(){l.call(this,{store:d,element:document.querySelector("#gameStats")}),this.xStat=this.element.querySelector("#xStat"),this.oStat=this.element.querySelector("#oStat"),this.tieStat=this.element.querySelector("#tieStat")}function g(){l.call(this,{store:d,element:document.querySelector("#modal")})}p.prototype=Object.create(l.prototype),p.prototype.constructor=p,p.prototype.events=function(){var t=this;this.markPicker.addEventListener("click",this.toggleMark.bind(this)),this.newGameVsPlayerBtn.addEventListener("click",(function(){t.newGame("p2")})),this.newGameVsCpuBtn.addEventListener("click",(function(){t.newGame("cpu")})),this.resetModalBtn.addEventListener("click",(function(){d.dispatch("resetModal",!0)}))},p.prototype.render=function(){!0===d.state.resetGame&&this.showNewGameScreen()},p.prototype.showNewGameScreen=function(){this.element.classList.remove("hidden")},p.prototype.hideNewGameScreen=function(){this.element.classList.add("hidden")},p.prototype.toggleMark=function(t){var e=t.currentTarget,n=e.getAttribute("aria-checked");this.p1Mark="true"!==n?"x":"o",e.setAttribute("aria-checked","true"!==n)},p.prototype.newGame=function(t){this.hideNewGameScreen();var e="x"===this.p1Mark?"o":"x";d.dispatch("startNewGame",{p1Mark:this.p1Mark,opponent:t,opponentMark:e})},m.prototype=Object.create(l.prototype),m.prototype.constructor=m,m.prototype.render=function(){this.setBoardMark(),!0===d.state.nextRound&&(this.resetBoard(),d.dispatch("nextRound",!1)),!0===d.state.resetGame&&(this.resetBoard(),d.dispatch("resetGame",!1)),console.log(this.checkDraw()),"none"===d.state.roundWinner&&"cpu"===d.state.opponent&&d.state.turn===d.state.opponentMark&&!1===this.checkDraw()&&this.cpuTurn()},m.prototype.setBoardMark=function(){this.element.dataset.playerTurn=d.state.turn},m.prototype.addMark=function(t){void 0!==t&&(t.classList.add(d.state.turn),t.removeEventListener("click",this))},m.prototype.checkWin=function(){var t=this;return this.winningPatterns.some((function(e){return e.every((function(e){return t.cells[e].classList.contains(d.state.turn)}))}))},m.prototype.checkDraw=function(){return h(this.cells).every((function(t){return t.classList.contains("x")||t.classList.contains("o")}))},m.prototype.bindEvents=function(){var t=this;this.cells.forEach((function(e){e.addEventListener("click",t,{once:!0})}))},m.prototype.clearEvents=function(){var t=this;this.cells.forEach((function(e){e.removeEventListener("click",t)}))},m.prototype.getWinnerPattern=function(){var t=this,e=null;return this.winningPatterns.every((function(n){return!n.every((function(e){return t.cells[e].classList.contains(d.state.turn)}))||(e=n,!1)})),e},m.prototype.clearCellsClasses=function(){this.cells.forEach((function(t){t.classList.remove("x","o","inverted")}))},m.prototype.resetBoard=function(){this.clearCellsClasses(),this.clearEvents(),this.bindEvents()},m.prototype.markWinnerPattern=function(){var t=this,e=this.getWinnerPattern();null!==e&&e.forEach((function(e){t.cells[e].classList.add("inverted")}))},m.prototype.getEmptyCells=function(){return h(this.cells).filter((function(t){return!(t.classList.contains("x")||t.classList.contains("o"))}))},m.prototype.getRandomEmptyCell=function(){var t=this.getEmptyCells(),e=Math.floor(t.length);return t[Math.floor(Math.random()*(e-0)+0)]},m.prototype.cpuTurn=function(){this.addMark(this.getRandomEmptyCell()),this.checkRoundWinner()},m.prototype.nextTurn=function(){d.dispatch("nextTurn",d.state.turn),this.setBoardMark()},m.prototype.getRoundWinnerBasedOnTurn=function(){var t={};return d.state.turn===d.state.p1Mark?(t.winner="p1",t.winnerMark=d.state.p1Mark):(t.winner="opponent",t.winnerMark=d.state.opponentMark),t},m.prototype.checkRoundWinner=function(){this.checkWin()?(this.markWinnerPattern(),d.dispatch("roundWinner",this.getRoundWinnerBasedOnTurn())):this.checkDraw()?d.dispatch("roundDraw"):this.nextTurn()},m.prototype.handleEvent=function(t){this.addMark(t.currentTarget),this.checkRoundWinner()},y.prototype=Object.create(l.prototype),y.prototype.constructor=y,y.prototype.render=function(){this.element.classList.remove("x","o"),this.element.classList.add(d.state.turn)},v.prototype=Object.create(l.prototype),v.prototype.constructor=v,v.prototype.render=function(){this.updateStatLabel(),this.updateStats()},v.prototype.updateStatLabel=function(){var t=this.xStat.querySelector(".js-stat-label"),e=this.oStat.querySelector(".js-stat-label");"x"===d.state.p1Mark?(t.textContent="(P1)","cpu"===d.state.opponent&&(e.textContent="(CPU)"),"p2"===d.state.opponent&&(e.textContent="(P2)")):(e.textContent="(P1)","cpu"===d.state.opponent&&(t.textContent="(CPU)"),"p2"===d.state.opponent&&(t.textContent="(P2)"))},v.prototype.updateStats=function(){var t=this.xStat.querySelector(".js-stat-value"),e=this.oStat.querySelector(".js-stat-value"),n=this.tieStat.querySelector(".js-stat-value");t.textContent=d.state.xScore,e.textContent=d.state.oScore,n.textContent=d.state.drawScore},g.prototype=Object.create(l.prototype),g.prototype.constructor=g,g.prototype.render=function(){!0===d.state.showModal?(this.setMessage(),this.bindEvents(),this.show()):this.hide()},g.prototype.setMessage=function(){if(this.element.innerHTML="",!0===d.state.resetModal){var t=document.querySelector("#modalRestartMessage").content.cloneNode(!0);return this.element.appendChild(t),!0}if("tie"===d.state.roundWinner){var e=document.querySelector("#modalTieMessage").content.cloneNode(!0);return this.element.appendChild(e),!0}if("tie"!==d.state.roundWinner){var n,o,r=document.querySelector("#modalWinnerMessage").content.cloneNode(!0),i="#icon-";return"p1"===d.state.roundWinner?(i+=d.state.p1Mark,n="cpu"===d.state.opponent?"YOU WON!":"PLAYER 1 WINS!"):(i+=d.state.opponentMark,n="cpu"===d.state.opponent?"OH NO, YOU LOST…":"PLAYER 2 WINS!"),o="x"===d.state.roundWinnerMark?"text-primary":"text-secondary",r.querySelector(".js-modal-title").classList.add(o),r.querySelector(".js-modal-text").textContent=n,r.querySelector(".js-modal-icon use").setAttribute("xlink:href",i),this.element.appendChild(r),!0}},g.prototype.show=function(){this.element.classList.remove("hidden")},g.prototype.hide=function(){this.element.classList.add("hidden")},g.prototype.bindEvents=function(){this.quitButtons=this.element.querySelectorAll(".js-btn-quit"),this.continueButtons=this.element.querySelectorAll(".js-btn-continue"),this.closeButtons=this.element.querySelectorAll(".js-btn-close"),this.quitButtons.forEach((function(t){t.addEventListener("click",(function(){d.dispatch("resetGame",!0)}))})),this.continueButtons.forEach((function(t){t.addEventListener("click",(function(){d.dispatch("nextRound",!0)}))})),this.closeButtons.forEach((function(t){t.addEventListener("click",(function(){d.dispatch("resetModal",!1)}))}))};var w=new p,x=new m,b=new y,S=new v,M=new g;x.render(),w.render(),b.render(),S.render(),M.render()})()})();